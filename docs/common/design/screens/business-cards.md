# ååˆºãƒ‡ãƒ¼ã‚¿ç®¡ç† (Business Cards) ç”»é¢ä»•æ§˜

## 1. æ¦‚è¦

ã‚·ãƒ³ãƒ—ãƒ«ãªååˆºæƒ…å ±ã®è“„ç©ã‚’è¡Œã†ç”»é¢ã€‚
OCRã«ã‚ˆã‚‹è‡ªå‹•èª­ã¿å–ã‚Šã¨ã€ãƒ•ã‚©ãƒ­ãƒ¼ãƒ¡ãƒ¼ãƒ«ä½œæˆæ©Ÿèƒ½ã‚’æä¾›ã€‚

---

## 2. ç”»é¢ä¸€è¦§

| ç”»é¢ | ãƒ‘ã‚¹ | èª¬æ˜ |
|------|------|------|
| ååˆºä¸€è¦§ | `/business-cards` | ç™»éŒ²æ¸ˆã¿ååˆºã®ãƒªã‚¹ãƒˆ |

---

## 3. ååˆºä¸€è¦§ç”»é¢

### 3.1. ç”»é¢æ§‹æˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ååˆºãƒ‡ãƒ¼ã‚¿ç®¡ç†                                   [+ ååˆºã‚’ç™»éŒ²]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ” æ°åãƒ»ä¼šç¤¾åã§æ¤œç´¢...                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  é¸æŠä¸­: 3ä»¶  [ãƒ•ã‚©ãƒ­ãƒ¼ãƒ¡ãƒ¼ãƒ«ä½œæˆ]                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚â–¡â”‚æ°å      â”‚ä¼šç¤¾å      â”‚å½¹è·      â”‚ãƒ¡ãƒ¼ãƒ«         â”‚äº¤æ›æ—¥â”‚æ“ä½œâ”‚
â”‚  â”œâ”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤
â”‚  â”‚â˜‘â”‚å±±ç”°å¤ªéƒ  â”‚æ ªå¼ä¼šç¤¾ABC â”‚å–¶æ¥­éƒ¨é•·  â”‚yamada@abc... â”‚12/05â”‚ â‹® â”‚
â”‚  â”‚â˜‘â”‚éˆ´æœ¨èŠ±å­  â”‚DEFå•†äº‹    â”‚èª²é•·      â”‚suzuki@def... â”‚12/03â”‚ â‹® â”‚
â”‚  â”‚ â”‚ä½è—¤ä¸€éƒ  â”‚GHIå·¥æ¥­    â”‚éƒ¨é•·      â”‚sato@ghi...   â”‚11/28â”‚ â‹® â”‚
â”‚  â”‚â˜‘â”‚ç”°ä¸­ç¾å’²  â”‚JKLãƒ†ãƒƒã‚¯  â”‚ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼â”‚tanaka@jkl... â”‚11/25â”‚ â‹® â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                     â”‚
â”‚  è¡¨ç¤º: 1-50 / 86ä»¶                     â† 1 2 â†’                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2. ãƒ†ãƒ¼ãƒ–ãƒ«ã‚«ãƒ©ãƒ å®šç¾©

| ã‚«ãƒ©ãƒ  | å‹ | å¹… | ã‚½ãƒ¼ãƒˆ | èª¬æ˜ |
|--------|-----|-----|:------:|------|
| ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ | Checkbox | 40px | - | ä¸€æ‹¬æ“ä½œç”¨ |
| æ°å | Text | 120px | âœ“ | `name` |
| ä¼šç¤¾å | Text | 150px | âœ“ | `company_name` |
| å½¹è· | Text | 120px | - | `position` |
| ãƒ¡ãƒ¼ãƒ« | Text | 180px | - | `email` |
| äº¤æ›æ—¥ | Date | 80px | âœ“ | `exchanged_at` |
| æ“ä½œ | Dropdown | 60px | - | è©³ç´°ãƒ»ç·¨é›†ãƒ»å‰Šé™¤ |

### 3.3. æ“ä½œãƒ¡ãƒ‹ãƒ¥ãƒ¼

| æ“ä½œ | èª¬æ˜ |
|------|------|
| è©³ç´°ã‚’è¦‹ã‚‹ | ååˆºè©³ç´°ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‹ã |
| ç·¨é›† | ååˆºæƒ…å ±ã‚’ç·¨é›† |
| ãƒ•ã‚©ãƒ­ãƒ¼ãƒ¡ãƒ¼ãƒ« | ã“ã®ååˆºå®›ã®ãƒ•ã‚©ãƒ­ãƒ¼ãƒ¡ãƒ¼ãƒ«ã‚’ä½œæˆ |
| å‰Šé™¤ | ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°å¾Œã«å‰Šé™¤ |

### 3.4. ä¸€æ‹¬æ“ä½œ

| æ“ä½œ | èª¬æ˜ |
|------|------|
| ãƒ•ã‚©ãƒ­ãƒ¼ãƒ¡ãƒ¼ãƒ«ä½œæˆ | é¸æŠã—ãŸååˆºã«å¯¾ã—ã¦ã¾ã¨ã‚ã¦ãƒ•ã‚©ãƒ­ãƒ¼ãƒ¡ãƒ¼ãƒ«ã‚’ä½œæˆ |

---

## 4. ååˆºç™»éŒ²ãƒ¢ãƒ¼ãƒ€ãƒ«ï¼ˆOCRï¼‰

### 4.1. ç”»é¢æ§‹æˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ååˆºã‚’ç™»éŒ²                                             [Ã—]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€ Step 1: ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                                                            â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚â”‚
â”‚  â”‚  â”‚                                                    â”‚   â”‚â”‚
â”‚  â”‚  â”‚     ğŸ“· ååˆºç”»åƒã‚’ãƒ‰ãƒ©ãƒƒã‚°ï¼†ãƒ‰ãƒ­ãƒƒãƒ—               â”‚   â”‚â”‚
â”‚  â”‚  â”‚        ã¾ãŸã¯ ã‚¯ãƒªãƒƒã‚¯ã—ã¦é¸æŠ                    â”‚   â”‚â”‚
â”‚  â”‚  â”‚                                                    â”‚   â”‚â”‚
â”‚  â”‚  â”‚     å¯¾å¿œå½¢å¼: JPG, PNGï¼ˆæœ€å¤§5MBï¼‰                 â”‚   â”‚â”‚
â”‚  â”‚  â”‚                                                    â”‚   â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚â”‚
â”‚  â”‚                                                            â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€ Step 2: OCRçµæœç¢ºèªãƒ»ç·¨é›† â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                                                            â”‚â”‚
â”‚  â”‚  â”Œâ”€ ç”»åƒãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ â”€â”  â”Œâ”€ èª­ã¿å–ã‚Šçµæœ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚
â”‚  â”‚  â”‚                  â”‚  â”‚                                â”‚â”‚â”‚
â”‚  â”‚  â”‚  [ååˆºç”»åƒ]      â”‚  â”‚ æ°å *:   [å±±ç”° å¤ªéƒ        ] â”‚â”‚â”‚
â”‚  â”‚  â”‚                  â”‚  â”‚ ä¼šç¤¾å:   [æ ªå¼ä¼šç¤¾ABC      ] â”‚â”‚â”‚
â”‚  â”‚  â”‚                  â”‚  â”‚ éƒ¨ç½²:     [å–¶æ¥­éƒ¨           ] â”‚â”‚â”‚
â”‚  â”‚  â”‚                  â”‚  â”‚ å½¹è·:     [éƒ¨é•·             ] â”‚â”‚â”‚
â”‚  â”‚  â”‚                  â”‚  â”‚ ãƒ¡ãƒ¼ãƒ«:   [yamada@abc.co.jp ] â”‚â”‚â”‚
â”‚  â”‚  â”‚                  â”‚  â”‚ é›»è©±:     [03-1234-5678     ] â”‚â”‚â”‚
â”‚  â”‚  â”‚                  â”‚  â”‚ æºå¸¯:     [090-1234-5678    ] â”‚â”‚â”‚
â”‚  â”‚  â”‚                  â”‚  â”‚ ä½æ‰€:     [æ±äº¬éƒ½æ¸‹è°·åŒº...  ] â”‚â”‚â”‚
â”‚  â”‚  â”‚                  â”‚  â”‚                                â”‚â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚
â”‚  â”‚                                                            â”‚â”‚
â”‚  â”‚  äº¤æ›æ—¥:  [2024/12/10]                                    â”‚â”‚
â”‚  â”‚  ãƒ¡ãƒ¢:    [                                           ]   â”‚â”‚
â”‚  â”‚                                                            â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                 â”‚
â”‚                                      [ã‚­ãƒ£ãƒ³ã‚»ãƒ«]  [ç™»éŒ²]      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2. OCRå‡¦ç†ãƒ•ãƒ­ãƒ¼

```typescript
const processBusinessCard = async (imageFile: File) => {
  // 1. Supabase Storageã«ç”»åƒã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
  const { data: uploadData, error: uploadError } = await supabase.storage
    .from('business-cards')
    .upload(`${crypto.randomUUID()}.${getExtension(imageFile.name)}`, imageFile);

  if (uploadError) throw uploadError;

  const imageUrl = supabase.storage
    .from('business-cards')
    .getPublicUrl(uploadData.path).data.publicUrl;

  // 2. Gemini APIã§OCRå®Ÿè¡Œ
  const model = genAI.getGenerativeModel({ model: 'gemini-1.5-flash' });

  const prompt = `
ã“ã®ååˆºç”»åƒã‹ã‚‰ä»¥ä¸‹ã®æƒ…å ±ã‚’æŠ½å‡ºã—ã¦JSONå½¢å¼ã§è¿”ã—ã¦ãã ã•ã„ã€‚
èª­ã¿å–ã‚Œãªã„é …ç›®ã¯nullã¨ã—ã¦ãã ã•ã„ã€‚

{
  "name": "æ°åï¼ˆæ¼¢å­—ï¼‰",
  "name_kana": "æ°åï¼ˆãµã‚ŠãŒãªï¼‰",
  "company_name": "ä¼šç¤¾å",
  "department": "éƒ¨ç½²å",
  "position": "å½¹è·",
  "email": "ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹",
  "phone": "é›»è©±ç•ªå·",
  "mobile": "æºå¸¯ç•ªå·",
  "address": "ä½æ‰€"
}
`;

  const result = await model.generateContent([
    prompt,
    {
      inlineData: {
        mimeType: imageFile.type,
        data: await fileToBase64(imageFile),
      },
    },
  ]);

  const ocrData = JSON.parse(result.response.text());

  return {
    imageUrl,
    ocrData,
  };
};
```

---

## 5. ååˆºè©³ç´°ãƒ¢ãƒ¼ãƒ€ãƒ«

### 5.1. ç”»é¢æ§‹æˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ååˆºè©³ç´°                                               [Ã—]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                â”‚  â”‚                                         â”‚â”‚
â”‚  â”‚  [ååˆºç”»åƒ]    â”‚  â”‚  å±±ç”° å¤ªéƒ                             â”‚â”‚
â”‚  â”‚                â”‚  â”‚  ã‚„ã¾ã  ãŸã‚ã†                          â”‚â”‚
â”‚  â”‚                â”‚  â”‚                                         â”‚â”‚
â”‚  â”‚                â”‚  â”‚  æ ªå¼ä¼šç¤¾ABC                            â”‚â”‚
â”‚  â”‚                â”‚  â”‚  å–¶æ¥­éƒ¨ éƒ¨é•·                            â”‚â”‚
â”‚  â”‚                â”‚  â”‚                                         â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚â”‚
â”‚                       â”‚                                         â”‚â”‚
â”‚                       â”‚  ğŸ“§ yamada@abc.co.jp                   â”‚â”‚
â”‚                       â”‚  ğŸ“ 03-1234-5678                        â”‚â”‚
â”‚                       â”‚  ğŸ“± 090-1234-5678                       â”‚â”‚
â”‚                       â”‚  ğŸ“ æ±äº¬éƒ½æ¸‹è°·åŒºã€‡ã€‡1-2-3              â”‚â”‚
â”‚                       â”‚                                         â”‚â”‚
â”‚                       â”‚  äº¤æ›æ—¥: 2024/12/10                     â”‚â”‚
â”‚                       â”‚                                         â”‚â”‚
â”‚                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€ ãƒ¡ãƒ¢ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  å±•ç¤ºä¼šã§ååˆºäº¤æ›ã€‚CRMå°å…¥ã«èˆˆå‘³ã‚ã‚Šã€‚                     â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                 â”‚
â”‚                       [ç·¨é›†]  [ãƒ•ã‚©ãƒ­ãƒ¼ãƒ¡ãƒ¼ãƒ«ä½œæˆ]              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. ãƒ•ã‚©ãƒ­ãƒ¼ãƒ¡ãƒ¼ãƒ«ä½œæˆãƒ¢ãƒ¼ãƒ€ãƒ«

### 6.1. ç”»é¢æ§‹æˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ãƒ•ã‚©ãƒ­ãƒ¼ãƒ¡ãƒ¼ãƒ«ä½œæˆ                                     [Ã—]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  å®›å…ˆ: å±±ç”°å¤ªéƒæ§˜ <yamada@abc.co.jp>                           â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€ ãƒ¡ãƒ¼ãƒ«ã‚¿ã‚¤ãƒ— â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  â—‹ ååˆºäº¤æ›ã®ãŠç¤¼                                         â”‚â”‚
â”‚  â”‚  â—‹ å•†æã®ã”æ¡ˆå†…                                           â”‚â”‚
â”‚  â”‚  â—‹ ãã®ä»–ï¼ˆè‡ªç”±å…¥åŠ›ï¼‰                                     â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                 â”‚
â”‚  [AIæ–‡é¢ç”Ÿæˆ]                                                   â”‚
â”‚                                                                 â”‚
â”‚  ä»¶å:                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ å…ˆæ—¥ã®å±•ç¤ºä¼šã§ã®ã”æŒ¨æ‹¶ã®ãŠç¤¼                            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚  æœ¬æ–‡:                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ å±±ç”°æ§˜                                                   â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚ å…ˆæ—¥ã¯å±•ç¤ºä¼šã«ã¦ååˆºäº¤æ›ã‚’ã•ã›ã¦ã„ãŸã ãã€              â”‚   â”‚
â”‚  â”‚ èª ã«ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸã€‚                            â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚ æ ªå¼ä¼šç¤¾ã€‡ã€‡ã®â–³â–³ã¨ç”³ã—ã¾ã™ã€‚                          â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚ å±•ç¤ºä¼šã§ãŠè©±ã—ã•ã›ã¦ã„ãŸã ã„ãŸå¼Šç¤¾ã®ã‚¯ãƒ©ã‚¦ãƒ‰CRMã«ã¤ã„ã¦ã€â”‚   â”‚
â”‚  â”‚ ã”èˆˆå‘³ã‚’ãŠæŒã¡ã„ãŸã ã‘ã¾ã—ãŸã‚‰ã€è©³ã—ã„è³‡æ–™ã‚’ãŠé€ã‚Š      â”‚   â”‚
â”‚  â”‚ ã•ã›ã¦ã„ãŸã ã‘ã‚Œã°ã¨å­˜ã˜ã¾ã™ã€‚                          â”‚   â”‚
â”‚  â”‚                                                          â”‚   â”‚
â”‚  â”‚ ã”æ¤œè¨ã®ã»ã©ã€ã‚ˆã‚ã—ããŠé¡˜ã„ã„ãŸã—ã¾ã™ã€‚                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                 â”‚
â”‚                              [ã‚­ãƒ£ãƒ³ã‚»ãƒ«]  [é€ä¿¡]              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2. AIæ–‡é¢ç”Ÿæˆ

```typescript
const generateFollowUpEmail = async (
  card: BusinessCard,
  type: 'thanks' | 'introduction' | 'custom'
) => {
  const prompts = {
    thanks: `
ååˆºäº¤æ›ã®ãŠç¤¼ãƒ¡ãƒ¼ãƒ«ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚

ã€ç›¸æ‰‹æƒ…å ±ã€‘
æ°å: ${card.name}
ä¼šç¤¾å: ${card.company_name}
å½¹è·: ${card.position}
äº¤æ›æ—¥: ${card.exchanged_at}
ãƒ¡ãƒ¢: ${card.notes || 'ãªã—'}

ã€æŒ‡ç¤ºã€‘
- ä¸å¯§ãªãƒ“ã‚¸ãƒã‚¹ãƒ¡ãƒ¼ãƒ«ã¨ã—ã¦ä½œæˆ
- ååˆºäº¤æ›ã®æ©Ÿä¼šï¼ˆå±•ç¤ºä¼šã€å•†è«‡ãªã©ï¼‰ã«è§¦ã‚Œã‚‹
- ä»Šå¾Œã®ã¤ãªãŒã‚Šã‚’ç¤ºå”†ã™ã‚‹å†…å®¹ã«ã™ã‚‹
- ä»¶åã¨æœ¬æ–‡ã‚’åˆ†ã‘ã¦å‡ºåŠ›
`,
    introduction: `
å•†æç´¹ä»‹ãƒ¡ãƒ¼ãƒ«ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚
// ... çœç•¥
`,
    custom: '',
  };

  const response = await gemini.generateContent(prompts[type]);
  return parseEmailResponse(response.text());
};
```

---

## 7. ãƒ‡ãƒ¼ã‚¿æ“ä½œ

### 7.1. ååˆºä¸€è¦§å–å¾—

```typescript
const getBusinessCards = async (filters: CardFilters) => {
  let query = supabase
    .from('business_cards')
    .select('*')
    .order('exchanged_at', { ascending: false });

  if (filters.search) {
    query = query.or(
      `name.ilike.%${filters.search}%,company_name.ilike.%${filters.search}%`
    );
  }

  return query.range(filters.offset, filters.offset + filters.limit - 1);
};
```

### 7.2. ååˆºç™»éŒ²

```typescript
const createBusinessCard = async (data: BusinessCardInput) => {
  return supabase.from('business_cards').insert({
    image_url: data.imageUrl,
    name: data.name,
    company_name: data.companyName,
    department: data.department,
    position: data.position,
    email: data.email,
    phone: data.phone,
    mobile: data.mobile,
    address: data.address,
    ocr_raw_data: data.ocrRawData,
    exchanged_at: data.exchangedAt,
    notes: data.notes,
    created_by: currentUser.id,
  });
};
```

---

## 8. MVPåˆ¶é™äº‹é …

| æ©Ÿèƒ½ | MVPå¯¾å¿œ | å‚™è€ƒ |
|------|:-------:|------|
| è¤‡æ•°æšä¸€æ‹¬ç™»éŒ² | âŒ | 1æšãšã¤ç™»éŒ² |
| ååˆºç”»åƒã®è¡¨è£ä¸¡é¢ | âŒ | è¡¨é¢ã®ã¿ |
| é‡è¤‡æ¤œçŸ¥ | âŒ | å°†æ¥å¯¾å¿œ |
| ã‚¿ãƒ¼ã‚²ãƒƒãƒˆãƒªã‚¹ãƒˆã¸ã®é€£æº | âŒ | å°†æ¥å¯¾å¿œ |

---

## é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [å…¨ä½“è¦ä»¶å®šç¾©æ›¸](../../overview/requirements.md)
- [ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ](../../technical/database-schema.md)
- [æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯](../../technical/tech-stack.md)
