# ãƒ›ãƒ¼ãƒ ãƒ»æ´»å‹•ã‚µãƒãƒªãƒ¼ (Home) ç”»é¢ä»•æ§˜

## 1. æ¦‚è¦

æœ¬æ—¥ã®ã‚¿ã‚¹ã‚¯ã¨å®Ÿç¸¾ã‚’ãƒ†ãƒ¼ãƒ–ãƒ«å½¢å¼ã§ç¢ºèªã™ã‚‹ç”»é¢ã€‚
ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ­ã‚°ã‚¤ãƒ³å¾Œæœ€åˆã«è¡¨ç¤ºã•ã‚Œã‚‹ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰çš„ãªå½¹å‰²ã‚’æŒã¤ã€‚

---

## 2. ç”»é¢æ§‹æˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [Sidebar]  â”‚  ãƒ›ãƒ¼ãƒ                                         â”‚
â”‚             â”‚                                                â”‚
â”‚  ğŸ  ãƒ›ãƒ¼ãƒ    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆâ”‚  â”‚  ğŸ“Š ä»Šæœˆã®KPI                           â”‚  â”‚
â”‚  ğŸ¯ ã‚¿ãƒ¼ã‚²ãƒƒãƒˆ â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚  â”‚
â”‚  ğŸ“¤ ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ â”‚  â”‚  â”‚ é€ä¿¡æ•°   â”‚ è¿”ä¿¡æ•°   â”‚ ã‚¢ãƒç²å¾— â”‚      â”‚  â”‚
â”‚  ğŸ“ˆ åˆ†æ     â”‚  â”‚  â”‚   142   â”‚   23    â”‚    8    â”‚      â”‚  â”‚
â”‚  ğŸ“¥ å—ä¿¡ãƒˆãƒ¬ã‚¤â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚  â”‚
â”‚  ğŸ’³ ååˆº    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚             â”‚                                                â”‚
â”‚             â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚             â”‚  â”‚  âš ï¸ æœªå‡¦ç†ã‚¿ã‚¹ã‚¯ä¸€è¦§                     â”‚  â”‚
â”‚             â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚             â”‚  â”‚  â”‚ ã‚¿ã‚¤ãƒ— â”‚ ä»¶æ•° â”‚ èª¬æ˜        â”‚ æ“ä½œ â”‚  â”‚  â”‚
â”‚             â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤  â”‚  â”‚
â”‚             â”‚  â”‚  â”‚ æ‰¿èªå¾…ã¡â”‚  15  â”‚ é€ä¿¡ãƒ‰ãƒ©ãƒ•ãƒˆ â”‚ ç¢ºèª â”‚  â”‚  â”‚
â”‚             â”‚  â”‚  â”‚ æœªå¯¾å¿œ  â”‚   3  â”‚ å—ä¿¡è¿”ä¿¡    â”‚ ç¢ºèª â”‚  â”‚  â”‚
â”‚             â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚             â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè©³ç´°

### 3.1. KPIä¸€è¦§

ä»Šæœˆã®ä¸»è¦æŒ‡æ¨™ã‚’æ•°å€¤ã§è¡¨ç¤ºã€‚

| æŒ‡æ¨™ | ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ | è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯ |
|------|--------------|--------------|
| é€ä¿¡æ•° | `outbound_history` | ä»Šæœˆã® `sent_at` ã§ã‚«ã‚¦ãƒ³ãƒˆ |
| è¿”ä¿¡æ•° | `inbox_messages` | ä»Šæœˆã® `received_at` ã§ã‚«ã‚¦ãƒ³ãƒˆ |
| ã‚¢ãƒç²å¾—æ•° | ï¼ˆå°†æ¥æ‹¡å¼µï¼‰ | MVPã§ã¯æ‰‹å‹•å…¥åŠ› or å›ºå®šå€¤ |

#### UIä»•æ§˜

- 3ã¤ã®ã‚«ãƒ¼ãƒ‰ã‚’æ¨ªä¸¦ã³ã§è¡¨ç¤º
- å„ã‚«ãƒ¼ãƒ‰ã¯æ•°å€¤ã®ã¿ã‚’ã‚·ãƒ³ãƒ—ãƒ«ã«è¡¨ç¤º
- å‰æœˆæ¯”ã®å¢—æ¸›è¡¨ç¤ºã¯ä¸è¦ï¼ˆMVPï¼‰

### 3.2. æœªå‡¦ç†ã‚¿ã‚¹ã‚¯ä¸€è¦§

ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãŒå¿…è¦ãªã‚¿ã‚¹ã‚¯ã‚’ãƒªã‚¹ãƒˆè¡¨ç¤ºã€‚

| ã‚¿ã‚¤ãƒ— | æ¡ä»¶ | ãƒªãƒ³ã‚¯å…ˆ |
|--------|------|----------|
| æ‰¿èªå¾…ã¡ãƒ‰ãƒ©ãƒ•ãƒˆ | `outbound_tasks.status = 'pending'` | ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‚¿ã‚¹ã‚¯ç”»é¢ |
| æœªå¯¾å¿œã®è¿”ä¿¡ | `inbox_messages.response_status = 'unresponded'` | å—ä¿¡ãƒˆãƒ¬ã‚¤ç”»é¢ |

#### ãƒ†ãƒ¼ãƒ–ãƒ«ã‚«ãƒ©ãƒ 

| ã‚«ãƒ©ãƒ  | å‹ | èª¬æ˜ |
|--------|-----|------|
| ã‚¿ã‚¤ãƒ— | Badge | ã‚¿ã‚¹ã‚¯ã®ç¨®é¡ |
| ä»¶æ•° | Number | è©²å½“ä»¶æ•° |
| èª¬æ˜ | Text | ã‚¿ã‚¹ã‚¯ã®èª¬æ˜ |
| æ“ä½œ | Button | ã€Œç¢ºèªã€ãƒœã‚¿ãƒ³ â†’ è©²å½“ç”»é¢ã¸é·ç§» |

---

## 4. ãƒ‡ãƒ¼ã‚¿å–å¾—

```typescript
// KPIãƒ‡ãƒ¼ã‚¿å–å¾—
const getMonthlyKPI = async () => {
  const startOfMonth = new Date(/* ä»Šæœˆ1æ—¥ */);

  const [sentCount, replyCount] = await Promise.all([
    supabase
      .from('outbound_history')
      .select('id', { count: 'exact' })
      .gte('sent_at', startOfMonth),
    supabase
      .from('inbox_messages')
      .select('id', { count: 'exact' })
      .gte('received_at', startOfMonth),
  ]);

  return { sentCount, replyCount, appointmentCount: 0 };
};

// æœªå‡¦ç†ã‚¿ã‚¹ã‚¯å–å¾—
const getPendingTasks = async () => {
  const [pendingDrafts, unrespondedMessages] = await Promise.all([
    supabase
      .from('outbound_tasks')
      .select('id', { count: 'exact' })
      .eq('status', 'pending'),
    supabase
      .from('inbox_messages')
      .select('id', { count: 'exact' })
      .eq('response_status', 'unresponded'),
  ]);

  return { pendingDrafts, unrespondedMessages };
};
```

---

## 5. ç”»é¢é·ç§»

| ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ | é·ç§»å…ˆ |
|------------|--------|
| ã€Œæ‰¿èªå¾…ã¡ãƒ‰ãƒ©ãƒ•ãƒˆã€ç¢ºèªãƒœã‚¿ãƒ³ | `/outbound?status=pending` |
| ã€Œæœªå¯¾å¿œã®è¿”ä¿¡ã€ç¢ºèªãƒœã‚¿ãƒ³ | `/inbox?status=unresponded` |

---

## é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [å…¨ä½“è¦ä»¶å®šç¾©æ›¸](../../overview/requirements.md)
- [ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‚¿ã‚¹ã‚¯ç”»é¢](./outbound-tasks.md)
- [å—ä¿¡ãƒˆãƒ¬ã‚¤ç”»é¢](./inbox.md)
